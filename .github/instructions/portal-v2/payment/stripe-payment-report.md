# 個人ブログ有料化における決済SaaS選定レポート

## 前提と要件

- 一部記事を有料化し、ブログ側のアカウント登録なし（メール + 決済情報のみ）で購入完結。
- 初期は記事単位の買い切り。将来はサブスクリプション追加予定（その際はブログ側で認証を実装）。
- 決済手数料と固定費を抑える方針。月額固定は極力避ける。

## 採用結論

**Stripe** を採用（初期: Checkout + Payment Links、将来: Billing）。

- ホスト型Checkoutでメール収集と即時決済が可能。Apple Pay / Google Payにも対応。
- 記事ごとにPrice/Payment Linkを作るだけで即販売開始。APIで動的生成も可。
- Stripe Billingでサブスクへシームレス拡張。Customer Portalでユーザーがプラン変更・解約を自己処理。
- 月額固定なしの従量課金。Webhook/SDKが充実しており、決済後のコンテンツ配信（期限付きURLやトークン発行）が実装しやすい。

## 手数料・課金形態（目安）

| サービス          | 決済手数料の目安                                                         | 月額固定                     | サブスク機能      | 特記事項                                   |
| ----------------- | ------------------------------------------------------------------------ | ---------------------------- | ----------------- | ------------------------------------------ |
| Stripe            | 日本: 約3.6% + ¥40/件、米国: 約2.9% + $0.30/件（ブランド・海外で上振れ） | なし                         | 〇（Billing）     | Tax/Radar等はオプション課金                |
| Square オンライン | 日本: 約3.25%〜3.95%/件（カード種別で変動）                              | なし                         | △（自前実装寄り） | 実店舗決済との併用に強み                   |
| Paddle（MoR型）   | 約5% + $0.50/件                                                          | なし                         | 〇                | VAT/GST処理込み、料率は高め                |
| Payhip            | Free: 5%/件, Plus: 2%/件, Pro: 0%/件（いずれもStripe/PayPal手数料別）    | Free $0 / Plus $29 / Pro $99 | 〇                | 低コスト導入が容易だがブランド自由度は低め |
| PayPal（参考）    | 日本: 約3.6% + ¥40/件、米国: 約3.49% + $0.49/件                          | なし                         | 〇                | Checkout UIの自由度はStripeより低め        |

## 実装アウトライン（フェーズ1: 記事の単発販売）

1) 記事IDごとに一回払いPriceを作成し、Payment Linkを発行するかCheckout Sessionをサーバーで生成。
2) Checkoutのメール収集を有効化し、`checkout.session.completed` / `payment_intent.succeeded` をWebhookで受信。
3) 決済成功後に短命の署名付きURLやトークンを生成しメール送信。コンテンツは静的URLを避け、トークン検証付きで配信。
4) 購入履歴を「メール + 記事ID」で軽量保存し、再送リクエストに対応。

## 将来拡張（フェーズ2: サブスクリプション）

- ブログ側に認証を実装し、Stripe Customerと紐付け。
- 定期課金Price/プランを追加し、試用期間・クーポンもBillingで設定。
- Customer Portalを公開し、`invoice.payment_succeeded/failed`, `customer.subscription.updated` を監視。
- 越境販売やVAT/GSTが必要ならStripe Taxを検討。

## リスクと対策

- **コンテンツ漏えい**: 署名付き/期限付きURLやトークンゲートで保護。直リンクを避ける。
- **チャージバック・不正**: 必要に応じ3D Secureを強制。Radarルールとアラートを設定。
- **コンプライアンス**: 禁止商材リストと利用規約・返金ポリシーを明示。税務要件は国別に確認。
- **運用**: Webhook失敗や決済失敗の監視・通知を設定。ログと再送キューを確保。

## 代替案の具体比較（Stripeを選んだ理由の裏付け）

- Square: 料率はやや低い場合もあるが、サブスク機能が限定的で自前実装が増える。UIもStripe Checkoutほど柔軟でない。
- Paddle: MoR型で税/VAT処理込みは魅力だが、料率が高くブランドコントロールも制約が多い。
- Payhip: 初期導入が簡単でメンバーシップ機能あり。ただし手数料または月額を選ぶモデルで、独自ドメインやUI自由度は限定。
- PayPal: 普及率は高いが、UIカスタムやサブスク柔軟性はStripeに劣る。クロスボーダー時の追加コストに留意。
